{"version":3,"file":"module.js","sources":["../../src/ts/constants.ts","../../src/ts/apps/detailedInfo.ts","../../src/ts/module.ts"],"sourcesContent":["import { id } from \"../module.json\";\r\n\r\nexport const moduleId = id;","import { moduleId } from \"../constants\";\r\n\r\nexport default class DetailedInfo extends DocumentSheet {\r\n\r\n    //override async _updateObject(formData? : object | undefined) {\r\n    //    if (!this.object.id) return;\r\n    //    console.log(\"FORM DATA :::: \" + formData);\r\n    //    return this.object.update(formData);\r\n    //}\r\n\r\n    //constructor(_actor: Actor, options: FormApplicationOptions) {\r\n    //    super(options);\r\n    //    this.actor = _actor;\r\n    //}\r\n\r\n    override get title(): string {\r\n        return \"Detailed Character Info\";\r\n    }\r\n\r\n    static override get defaultOptions(): DocumentSheetOptions {\r\n        return foundry.utils.mergeObject(super.defaultOptions, {\r\n            id: \"detailed-char-info\",\r\n            template: `modules/${moduleId}/templates/data.hbs`,\r\n            width: 600,\r\n            height: 900,\r\n            title: \"Detailed Character Info\",\r\n            minimizable: true,\r\n            resizeable: true,\r\n            popOut: true,\r\n            submitOnClose: true,\r\n            submitOnChange: true,\r\n            closeOnSubmit: true,\r\n            editable: true\r\n        }) as DocumentSheetOptions;\r\n    }\r\n\r\n    override activateListeners(html: JQuery<HTMLElement>): void {\r\n        super.activateListeners(html);\r\n        //html.find(\"button.module-control\").on(\"click\", this._onClickControlButton.bind(this));\r\n    }\r\n\r\n    //async _onClickControlButton(event: Event): Promise<void> {\r\n    //    console.log(\"submit clicked\");\r\n        \r\n    //    //const button = event.currentTarget as HTMLElement;\r\n    //    //const action = button.dataset.action;\r\n\r\n    //    const form = document.getElementById(\"detailedCharInfoForm\") as HTMLFormElement;\r\n    //    const formData = new FormData(form);\r\n\r\n    //    for (let entry of formData.entries()) {\r\n    //        console.log(entry);\r\n    //    }\r\n\r\n        //switch (action) {\r\n        //    case \"submit-details\":\r\n        //        const form = document.getElementById(\"detailedCharInfoForm\") as HTMLFormElement;\r\n        //        const formData = new FormData(form);\r\n        //        console.log(formData);\r\n        //        break;\r\n        //}\r\n    \r\n}","// Do not remove this import. If you do Vite will think your styles are dead\r\n// code and not include them in the buildl output.\r\n\r\nimport { moduleId } from \"./constants\";\r\nimport { CharInfo } from \"./types\";\r\nimport \"../styles/style.scss\";\r\nimport DetailedInfo from \"./apps/detailedInfo\";\r\n\r\nlet module: CharInfo;\r\n\r\nHooks.once(\"init\", () => {\r\n    console.log(\"Hello World!\");\r\n});\r\n\r\nHooks.on(\"renderActorSheetSFRPGCharacter\", (data: ActorSheet, html: JQuery) => {\r\n    console.log(data);\r\n\r\n    var doc = data;\r\n\r\n    const button = $(\r\n        `<a class=\"header-button\"><i class=\"fa-solid fa-circle-info\"></i>Details</button>`\r\n    );\r\n\r\n    console.log(html.find(\".window-header\").html);\r\n\r\n    module = (game as Game).modules.get(moduleId) as CharInfo;\r\n    const options = getOptions();\r\n    module.detailedInfo = new DetailedInfo(doc.document, options);\r\n\r\n    button.on(\"click\", () => {\r\n        module.detailedInfo.render(true);\r\n    });\r\n\r\n    html.find(\".window-header .window-title\").append(button);\r\n\r\n    console.log(module.active);\r\n});\r\n\r\n// Honk! Honk!\r\n//Hooks.on(\"renderActorSheet\", (data: ActorData, html: JQuery) => {\r\n//    console.log(\"Actor document load\");\r\n\r\n//    console.log(html);\r\n\r\n//    var type = data.document?.type;\r\n//    var doc = data.document;\r\n\r\n//    if (type === 'character') {\r\n//        console.log(\"Character Type\");\r\n\r\n//        const button = $(\r\n//            `<a class=\"header-button\"><i class=\"fa-solid fa-circle-info\"></i>Details</button>`\r\n//        );\r\n\r\n//        console.log(html.find(\".window-header\").html);\r\n\r\n//        module = (game as Game).modules.get(moduleId) as CharInfo;\r\n//        const options = getOptions();\r\n//        module.detailedInfo = new DetailedInfo(doc, options);\r\n\r\n//        button.on(\"click\", () => {\r\n//            module.detailedInfo.render(true);\r\n//        });\r\n\r\n//        html.find(\".window-header .window-title\").append(button);\r\n//    };\r\n        \r\n//    console.log(module.active);\r\n//});\r\n\r\nfunction getOptions(): DocumentSheetOptions {\r\n    return foundry.utils.mergeObject(DocumentSheet.defaultOptions, {\r\n        id: \"detailed-char-info\",\r\n        template: `modules/${moduleId}/templates/data.hbs`,\r\n        width: 600,\r\n        height: 900,\r\n        title: \"Detailed Character Info\",\r\n        minimizable: true,\r\n        resizeable: true,\r\n        popOut: true,\r\n        submitOnClose: true,\r\n        submitOnChange: true,\r\n        closeOnSubmit: true,\r\n        editable: true\r\n    }) as DocumentSheetOptions;\r\n}"],"names":["moduleId","id","DetailedInfo","html","module","data","doc","button","options","getOptions"],"mappings":"2BAEaA,EAAWC,ECAxB,MAAqBC,UAAqB,aAAc,CAapD,IAAa,OAAgB,CAClB,MAAA,yBACX,CAEA,WAAoB,gBAAuC,CACvD,OAAO,QAAQ,MAAM,YAAY,MAAM,eAAgB,CACnD,GAAI,qBACJ,SAAU,WAAWF,uBACrB,MAAO,IACP,OAAQ,IACR,MAAO,0BACP,YAAa,GACb,WAAY,GACZ,OAAQ,GACR,cAAe,GACf,eAAgB,GAChB,cAAe,GACf,SAAU,EAAA,CACb,CACL,CAES,kBAAkBG,EAAiC,CACxD,MAAM,kBAAkBA,CAAI,CAEhC,CAuBJ,CCtDA,IAAIC,EAEJ,MAAM,KAAK,OAAQ,IAAM,CACrB,QAAQ,IAAI,cAAc,CAC9B,CAAC,EAED,MAAM,GAAG,iCAAkC,CAACC,EAAkBF,IAAiB,CAC3E,QAAQ,IAAIE,CAAI,EAEhB,IAAIC,EAAMD,EAEV,MAAME,EAAS,EACX,kFAAA,EAGJ,QAAQ,IAAIJ,EAAK,KAAK,gBAAgB,EAAE,IAAI,EAElCC,EAAA,KAAc,QAAQ,IAAIJ,CAAQ,EAC5C,MAAMQ,EAAUC,IAChBL,EAAO,aAAe,IAAIF,EAAaI,EAAI,SAAUE,CAAO,EAErDD,EAAA,GAAG,QAAS,IAAM,CACdH,EAAA,aAAa,OAAO,EAAI,CAAA,CAClC,EAEDD,EAAK,KAAK,8BAA8B,EAAE,OAAOI,CAAM,EAE/C,QAAA,IAAIH,EAAO,MAAM,CAC7B,CAAC,EAkCD,SAASK,GAAmC,CACxC,OAAO,QAAQ,MAAM,YAAY,cAAc,eAAgB,CAC3D,GAAI,qBACJ,SAAU,WAAWT,uBACrB,MAAO,IACP,OAAQ,IACR,MAAO,0BACP,YAAa,GACb,WAAY,GACZ,OAAQ,GACR,cAAe,GACf,eAAgB,GAChB,cAAe,GACf,SAAU,EAAA,CACb,CACL"}